# Catalyst

## What is it?
Catalyst is a "plugin" for hyprland that creates your keybinds based off json instead of hyprland.
It is only dependent on hyprland

## Installing

**From source**

Install the build requirements with a package manager of your choice:
- git
- gcc

Then run

```bash
git clone https://github.com/Matercan/catalyst.git
g++ main.cpp -o catalyst -l jsoncpp
mv catalyst /usr/bin/
mkdir -p ~/.config/catalyst/
touch ~/.config/catalyst/config.jsonc
```

**On arch**

```bash
git clone https://github.com/Matercan/catalyst.git
makepkg -si
```

## Usage

```
What is catalyst?
Catalyst is a package which allows you to use JSON to create keybinds in hyprland
Your config file is by default stored in ~/.config/catalyst/config.json
Args:

catalyst --help:                 Shows this text
catalyst --config:               Sets your config file
catalyst --keybinds-file:        Sets the file with your keybinds
```

You may run catalyst as ``exec-once`` because it deletes the previous keybinds it generated.
Do *not* delete the Strings to signal the start/end of the generated keybinds,
or it will either delete your old keybinds or duplicate them

## Configuration
By default, a configuration file is created when building to ``${XDG_CONFIG_HOME}/catalyst/config.json``
but catalyst can also be made to use a different file with the --config option.

An example configuration looks like this:
```jsonc
{
  "$schema": "https://raw.githubusercontent.com/Matercan/catalyst/master/catalyst.schema.jsonc",
  "globals": {
    "mainmod": "SUPER",
    "enable_all": true
  },
  "keymaps": [
    {
      "name": "media-previous",
      "key-sequence": [
        "CONTROL",
        "MAINMOD",
        "left"
      ],
      "command": "playerctl previous",
      "description": "Go to previous track"
    },
    {
      "name": "media-pause",
      "key-sequence": [
        "CONTROL",
        "MAINMOD",
        "p"
      ],
      "command": "playerctl play-pause",
      "description": "Pause/resume playback"
    },
    {
      "name": "media-next",
      "key-sequence": [
        "CONTROL",
        "MAINMOD",
        "right"
      ],
      "command": "playerctl next",
      "description": "Go to next track"
    },
    {
      "name": "eww-reload",
      "key-sequence": [
        "CONTROL",
        "SUPER",
        "E"
      ],
      "command": "eww reload",
      "description": "Reload eww configuration"
    },
    // You can add more keymaps easily without naming conflicts
    {
      "key-sequence": [
        "MAINMOD",
        "SHIFT",
        "q"
      ],
      "command": "hyprctl dispatch killactive",
      "description": "Close active window"
    },
    {
      "key-sequence": [
        "MAINMOD",
        "f"
      ],
      "command": "hyprctl dispatch togglefloating",
      "description": "Toggle floating mode"
    }
    /*
    {
      "key-sequence": [
        "MAINMOD",
        "SHIFT",
        "e"
      ],
      "command": "poweroff",
      "enabled": false,
      "description": "Shutdown system (disabled for safety)"
    }
    */
  ]
}
```

This configuration will generate code that looks like this:

# ------- Generated by Catalyst -------

bind =  CONTROL,  $mainMod left, exec, playerctl previous
bind =  CONTROL,  $mainMod p, exec, playerctl play-pause
bind =  CONTROL,  $mainMod right, exec, playerctl next
bind =  CONTROL SUPER,  E, exec, eww reload
bind =  SHIFT,  $mainMod q, exec, hyprctl dispatch killactive
bind = ,  $mainMod f, exec, hyprctl dispatch togglefloating

# ------ End of code by Catalyst ------



